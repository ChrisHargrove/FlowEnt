<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>FlowEnt Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    canvas {
      width: 100%;
      height: 100%;
      position: absolute;
    }
  </style>
</head>

<body>
  <canvas id="unity-canvas"
    style="background: #231F20"></canvas>
  <script src="Build/WebGL.loader.js?v=0.0.7"></script>
  <script>
    var unityCanvas = document.querySelector("#unity-canvas");

    const observer = new window.IntersectionObserver(([entry]) => {
      if (entry.isIntersecting && window.hasUnityPlayer != true) {
        createPlayer();
      }
    }, {
      root: null,
      threshold: 0.1,
    })

    observer.observe(unityCanvas);

    function createPlayer() {
      window.hasUnityPlayer = true;
      unityInstance = createUnityInstance(unityCanvas, {
        dataUrl: "Build/WebGL.data.unityweb",
        frameworkUrl: "Build/WebGL.framework.js.unityweb",
        codeUrl: "Build/WebGL.wasm.unityweb",
          streamingAssetsUrl: "StreamingAssets",
        companyName: "Fried Synapse",
        productName: "FlowEnt.Demo",
        productVersion: "0.0.7",
      });
    }
  </script>
</body>

</html>
